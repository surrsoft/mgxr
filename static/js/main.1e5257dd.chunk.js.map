{"version":3,"sources":["components/Card/index.tsx","components/RandomCardViewer/index.tsx","utils/utils.tsx","api/cards-api.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Card","props","this","card","url","length","substr","className","title","href","target","rel","comm","body","Component","RandomCardViewer","countShowed","countAll","onClick","handleShow","TpCard","Cards","cards","map","el","index","customHistory","createBrowserHistory","App","state","countAllGet","showedIxs","do","bind","rnd","ix","arrExcept","_","isEmpty","random","arr0","ix0","some","push","randomExcept","arr1","setState","getByIndex","nx","history","to","path","React","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e5257dd.chunk.js","sourcesContent":["import { Component } from 'react';\nimport './card.css';\n\nexport class Card extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n  }\n\n  render() {\n    if (!this.props.card) {\n      return <div>card is null</div>\n    }\n    // ---\n    let url = this.props.card.url;\n    const ln = 47;\n    if (url && url.length > ln) {\n      url = url.substr(0, ln) + '...';\n    }\n    // ---\n    return (<div className=\"card\">\n      <div className=\"card__title\">{this.props.card.title}</div>\n      <div className=\"card__link\"><a href={this.props.card.url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a>\n      </div>\n      <div>{this.props.card.comm}</div>\n      <div>{this.props.card.body}</div>\n    </div>);\n  }\n}\n","import { Component } from 'react';\nimport { Card } from '../Card';\nimport './styles.css'\n\nexport class RandomCardViewer extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n  }\n\n  render() {\n    return (<div className=\"rc-viewer\">\n      <div>Показано: {this.props.countShowed} / {this.props.countAll}</div>\n      <button className=\"rc-viewer__button\" onClick={this.props.handleShow}>Show</button>\n      {this.props.card ? <div className=\"rc-viewer__card\"><Card card={this.props.card}/></div> : null}\n    </div>);\n  }\n}\n","import _ from 'lodash';\n\nexport class TpCard {\n  constructor(\n    readonly title?: string,\n    readonly url?: string,\n    readonly comm?: string,\n    readonly body?: string\n  ) {\n  }\n}\n\nexport const tpCards = [\n  new TpCard('Российская газета', 'https://rg.ru'),\n  new TpCard('Коммерсант', 'https://www.kommersant.ru/'),\n  new TpCard('РИА Новости', 'https://ria.ru/')\n]\n\n/**\n * Возвращает случайное число в диапазоне 0 .. (1) включая 0 и (1), но отсутствующее в (2).\n * Если такого случайного числа найти невозможно (из-за того что в (2) уже все индексы есть), то возвращает -1\n *\n * ID [[210219210500]], rev.2 1.1 2021-02-19\n *\n * @param ix (1) -- например 3\n * @param arrExcept -- например [0, 1]\n * @return например может вернуть только 2 или 3\n */\nexport function randomExcept(ix: number, arrExcept: [number]): number {\n  if (_.isEmpty(arrExcept)) {\n    return _.random(ix);\n  }\n  const arr0 = [];\n  for (let ix0 = 0; ix0 <= ix; ix0++) {\n    const b0 = arrExcept.some(el => el === ix0);\n    if (!b0) {\n      arr0.push(ix0)\n    }\n  }\n  if (arr0.length > (ix + 1) || arr0.length === 0) {\n    return -1\n  }\n  const rnd = _.random(arr0.length - 1);\n  return arr0[rnd];\n}\n","import cards from './cards.json';\nimport { TpCard } from '../utils/utils';\n\nexport class Cards {\n  static allGet(): TpCard[] {\n    return cards.cards.map(el => {\n      return el\n    })\n  }\n\n  static countAllGet(): number {\n    return cards.cards.length\n  }\n\n  static getByIndex(index: number): TpCard {\n    return cards.cards[index]\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport { RandomCardViewer } from './components/RandomCardViewer';\nimport { randomExcept } from './utils/utils';\nimport { Cards } from './api/cards-api';\nimport { Router, Link, Switch, Route } from 'react-router-dom';\nimport { createBrowserHistory } from \"history\";\n\nconst customHistory = createBrowserHistory();\n\nclass App extends React.Component<any, any> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      card: null,\n      countShowed: 0,\n      countAll: Cards.countAllGet(),\n      showedIxs: []\n    }\n    this.do = this.do.bind(this);\n  }\n\n  handleShow() {\n    const rnd = randomExcept(this.state.countAll - 1, this.state.showedIxs);\n    if (rnd !== -1) {\n      const arr1 = [...this.state.showedIxs, rnd];\n      this.setState({\n        card: Cards.getByIndex(rnd),\n        countShowed: this.state.countShowed + 1,\n        showedIxs: arr1\n      })\n    }\n  }\n\n  do() {\n    const nx = [];\n    for (let ix = 0; ix < 126; ix++) {\n      nx.push(ix);\n    }\n    this.setState({\n      countShowed: nx.length,\n      showedIxs: nx\n    })\n  }\n\n  render() {\n    return (\n      <Router history={customHistory}>\n        <div className=\"App\">\n          <Link to=\"/\">App</Link>\n          <Switch>\n            <Route path=\"/\">\n              <RandomCardViewer countAll={this.state.countAll} countShowed={this.state.countShowed}\n                                card={this.state.card}\n                                handleShow={() => this.handleShow()}/>\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { render } from 'react-snapshot';\n\nrender(\n  <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}