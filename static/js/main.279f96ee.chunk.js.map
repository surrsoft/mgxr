{"version":3,"sources":["consts.ts","utils/utils.tsx","api/airtable-api.ts","components/Settings/index.tsx","api/hogg/connections/HoggOffsetCount.ts","api/hogg/base-implements/BaseTuple.ts","api/hogg/base-implements/BaseCell.ts","api/hogg/utils/HoggResult.ts","api/hogg/connections/HoggConnectionAirtable.ts","components/PageDebug/index.tsx","components/Card/index.tsx","api/cards-api.ts","components/RandomCardViewer/index.tsx","components/PageNews/index.tsx","consts-uarw.tsx","utils/uarw/uarw-utils.ts","components/PageUarw/QCard/index.tsx","utils/uarw/uarw-logic.ts","components/PageUarw/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CONF_AIRTABLE_DB_NAME","CONF_AIRTABLE_TABLE_NAME","MGXR_LS_AIRTABLE_API_KEY","LSApiKey","localStorage","getItem","apiKey","str","length","test","setItem","TpCard","title","url","comm","body","id","tid","trans_count","trans_date_last","show_date_last","randomExcept","ix","arrExcept","_","isEmpty","random","arr0","ix0","some","el","push","rnd","utilPathGet","name","MAirtable","apiKeyGet","dc","Airtable","default_config","endpointUrl","configure","alert","maxRecords","Promise","resolve","reject","ret","selectCfg","base","select","eachPage","records","fetchNextPage","forEach","record","err","console","error","fields","updOj","update","Settings","props","textInput","state","isLoading","React","createRef","this","setState","val","current","value","apiKeySet","className","type","ref","defaultValue","onClick","handleSave","Component","HoggOffsetCount","getAll","offset","count","BaseTuple","cells","cell","BaseCell","columnName","HoggResult","code","HoggConnectionAirtable","dbName","columnNames","tableName","pFilterVusc","filter","offsetCount","a","pageSize","filterByFormula","counter","table","tup","convertRecord","options","Error","tuples","updConfsGet","updConfs","isOk","message","createData","updConfsAtCreateGet","create","ids","destroy","cees","Object","entries","key","cee","tidCee","every","tuple","cellsGet","updConf","fieldName","columnNameGet","valueGet","PageDebug","connection","init","columns","query","cellAdd","delete","db","nx","DateFieldShow","dateSt","dayjs","diff","Card","handleLinkPress","bind","extend","relativeTime","isBetween","e","card","handleLinkClick","href","target","rel","CardsB","FIELD_ID","FIELD_TID","FIELD_TITLE","FIELD_URL","FIELD_COMM","FIELD_BODY","index","get","FIELD_TRANS_COUNT","FIELD_TRANS_DATE_LAST","FIELD_SHOW_DATE_LAST","recordUpdate","RandomCardViewer","cardHandleLinkClick","card0","Date","now","format","countShowed","countAll","handleShow","PageNews","cardsB","showedIxs","isApiKeySetted","errorStr","arr1","getByIndex","recordsGet","countAllGet","statusCode","includes","UARW_FE_SCOPES","UARW_FE_PROGRESS","UARW_PV_PROGRESS_1","colination","arr","sortByCount","currElem","find","retEl","ValCount","needSort","sort","b","ascending","valCounts","map","valCount","ValLabel","SortInfo","label","arrObjectsSortByStringProp","arrObjectsBack","propName","oj1","oj2","v1","v2","selectOptionToVusc","option","values","b51","Array","isArray","stJoin","join","QCard","answerShowed","qcard","scope","question","handleClick","answer","progress","UarwLogic","filterVusc","connectionTableCreate","data","uarwTuples","UarwTuples","qcards","log","scopes","progresses","b19","scopesVC","progressesVC","QCardOj","createMulti","pgs","fnOptionsRefresh","currSelectOption","newVL","np","PageUarw","uarwLogic","flag1","loaded","errStr","selectScOptions","selectScSelectedOption","selectPrOptions","selectPrSelectedOption","selectScHandleChange","selectPrHandleChange","selectorsDataGetAndUpdate","fnFilterVuscGet","scopesAndProgressesGet","scopesVL","asValLabels","progressesVL","newSelectScSelectedOption","newSelectPrSelectedOption","newState","selectedOption","prevProps","prevState","snapshot","selectHandleChange","qcardsGet","qcardOjs","filterScVusc","filterPrVusc","onChange","isMulti","customHistory","createBrowserHistory","App","history","to","activeClassName","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.279f96ee.chunk.js","sourcesContent":["export const MGXR_APP_REV = '7';\n\nexport const CONF_AIRTABLE_DB_NAME = 'appXv6ry7Vn262nGR';\nexport const CONF_AIRTABLE_TABLE_NAME = 'main';\n\nexport const MGXR_LS_AIRTABLE_API_KEY = 'mgxr_ls_airtable_api_key';\n","import _ from 'lodash';\nimport { MGXR_LS_AIRTABLE_API_KEY } from '../consts';\n\nexport class LSApiKey {\n  static apiKeyGet(): string | null {\n    return localStorage.getItem(MGXR_LS_AIRTABLE_API_KEY)\n  }\n\n  static apiKeySet(apiKey?: string): boolean {\n    if (isEmptyOrWhitespaces(apiKey)) {\n      return false\n    } else if (apiKey) {\n      localStorage.setItem(MGXR_LS_AIRTABLE_API_KEY, apiKey);\n      return true\n    }\n    return false\n  }\n}\n\nexport class TpCard {\n  constructor(\n    readonly title?: string,\n    readonly url?: string,\n    readonly comm?: string,\n    readonly body?: string,\n    readonly id?: string,\n    readonly tid?: string,\n    readonly trans_count: number = 0,\n    readonly trans_date_last?: string,\n    readonly show_date_last?: string,\n  ) {\n  }\n}\n\nexport const tpCards = [\n  new TpCard('Российская газета', 'https://rg.ru'),\n  new TpCard('Коммерсант', 'https://www.kommersant.ru/'),\n  new TpCard('РИА Новости', 'https://ria.ru/')\n]\n\n/**\n * Возвращает случайное число в диапазоне 0 .. (1) включая 0 и (1), но отсутствующее в (2).\n * Если такого случайного числа найти невозможно (из-за того что в (2) уже все индексы есть), то возвращает -1\n *\n * ID [[210219210500]], rev.2 1.1 2021-02-19\n *\n * @param ix (1) -- например 3\n * @param arrExcept -- например [0, 1]\n * @return например может вернуть только 2 или 3\n */\nexport function randomExcept(ix: number, arrExcept: [number]): number {\n  if (_.isEmpty(arrExcept)) {\n    return _.random(ix);\n  }\n  const arr0 = [];\n  for (let ix0 = 0; ix0 <= ix; ix0++) {\n    const b0 = arrExcept.some(el => el === ix0);\n    if (!b0) {\n      arr0.push(ix0)\n    }\n  }\n  if (arr0.length > (ix + 1) || arr0.length === 0) {\n    return -1\n  }\n  const rnd = _.random(arr0.length - 1);\n  return arr0[rnd];\n}\n\n/**\n * ID [210217114100], rev.1.0 2021-02-17\n */\nexport function isEmptyOrWhitespaces(str?: string) {\n  return (!str || str.length === 0 || /^\\s*$/.test(str))\n}\n\nexport function utilPathGet(name?: string): string[] {\n  if (!name) {\n    return [\"/\", \"/mgxr\"]\n  }\n  return [`/${name}`, `/mgxr/${name}`]\n}\n","import Airtable from 'airtable';\nimport Record from 'airtable/lib/record';\nimport { CONF_AIRTABLE_DB_NAME, CONF_AIRTABLE_TABLE_NAME } from '../consts';\nimport { LSApiKey } from '../utils/utils';\n\nexport class MAirtable {\n\n  static init() {\n    const apiKey = LSApiKey.apiKeyGet()\n    if (!apiKey) {\n      alert('please add \"Airtable API Key\" at \"Settings\"')\n    } else {\n      const dc = Airtable.default_config()\n      dc.apiKey = apiKey\n      dc.endpointUrl = 'https://api.airtable.com'\n      Airtable.configure(dc)\n    }\n  }\n\n  /**\n   *\n   * @param maxRecords -- максимальное количество записей которое нужно вернуть, задействуется если > 0\n   */\n  static async recordsGet(maxRecords: number = 0): Promise<Record[]> {\n    return new Promise((resolve, reject) => {\n      const ret: Record[] = [];\n      const selectCfg = {}\n      if (maxRecords > 0) {\n        // @ts-ignore\n        selectCfg.maxRecords = maxRecords\n      }\n      Airtable\n        .base(CONF_AIRTABLE_DB_NAME)(CONF_AIRTABLE_TABLE_NAME)\n        .select(selectCfg)\n        .eachPage(\n          function page(records, fetchNextPage) {\n            records.forEach(function (record) {\n              ret.push(record)\n            });\n            fetchNextPage();\n          },\n          function done(err) {\n            if (err) {\n              console.error(err);\n              reject(err)\n            }\n            resolve(ret)\n          }\n        )\n    });\n  }\n\n  static async recordUpdate(tid: string, fields: any) {\n    return new Promise((resolve, reject) => {\n      const updOj = {id: tid, fields}\n      Airtable\n        .base(CONF_AIRTABLE_DB_NAME)(CONF_AIRTABLE_TABLE_NAME)\n        .update(\n          [updOj],\n          function (err: any, records: Record[] | undefined) {\n            if (err) {\n              reject(err);\n            }\n            resolve(records);\n          }\n        )\n    });\n  }\n}\n","import React, { Component } from 'react';\nimport './styles.css'\nimport { LSApiKey } from '../../utils/utils';\nimport { MGXR_APP_REV } from '../../consts';\n\nexport class Settings extends Component<any, any> {\n  private textInput: React.RefObject<HTMLInputElement>;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      apiKey: '',\n      isLoading: true\n    }\n    this.textInput = React.createRef();\n  }\n\n  componentDidMount() {\n    this.setState({\n      apiKey: LSApiKey.apiKeyGet(),\n      isLoading: false\n    })\n  }\n\n  handleSave() {\n    const val = this.textInput.current?.value\n    if (LSApiKey.apiKeySet(val)) {\n      this.setState({apiKey: val})\n      alert('saved')\n    } else {\n      alert('invalid value')\n    }\n  }\n\n  render() {\n    const {apiKey, isLoading} = this.state;\n    return (<div className=\"app__settings\">\n      <div>Версия приложения: {MGXR_APP_REV}</div>\n      <div>\n        <label>Airtable API Key: </label>\n        {isLoading ? <span className=\"settings__loading\">Loading ...</span>\n          :\n          (<span>\n          <input className=\"settings__input\" type=\"text\" ref={this.textInput} defaultValue={apiKey}/>\n          <button className=\"settings__button\" onClick={() => this.handleSave()}>Save</button>\n        </span>)\n        }\n      </div>\n    </div>)\n  }\n}\n","export class HoggOffsetCount {\n  /**\n   *\n   * @param getAll (1) -- если TRUE, то это означает \"получить все записи\", тогда параметры (2), (3) должны\n   * игнорироваться\n   * @param offset (2) -- количество записей которые нужно пропустить\n   * набор\n   * @param count (3) -- количество записей которое нужно вернуть\n   */\n  constructor(\n    readonly getAll: boolean = false,\n    readonly offset: number = 0,\n    readonly count: number = 20\n  ) {\n  }\n}\n","import { HoggTupleNT } from '../interfaces/HoggTupleNT';\nimport { HoggCellNT } from '../interfaces/HoggCellNT';\n\nexport class BaseTuple implements HoggTupleNT {\n  private cells: HoggCellNT[] = [];\n\n  create(cells: HoggCellNT[]): HoggTupleNT {\n    this.cells = cells;\n    return this;\n  }\n\n  cellsGet(): HoggCellNT[] {\n    return this.cells;\n  }\n\n  cellAdd(cell: HoggCellNT): HoggTupleNT {\n    this.cells.push(cell);\n    return this;\n  }\n\n}\n","import { HoggCellNT } from '../interfaces/HoggCellNT';\n\nexport class BaseCell implements HoggCellNT {\n  private columnName: string = '';\n  private value: string = '';\n\n  create(columnName: string, value: string): HoggCellNT {\n    this.columnName = columnName;\n    this.value = value;\n    return this;\n  }\n\n  columnNameGet(): string {\n    return this.columnName;\n  }\n\n  valueGet(): string {\n    return this.value;\n  }\n\n}\n","export class HoggResult<T> {\n  constructor(readonly value: T, readonly code: string = '', readonly comm: string = '') {\n  }\n}\n","import { HoggConnectionNT } from '../interfaces/HoggConnectionNT';\nimport { HoggTupleNT } from '../interfaces/HoggTupleNT';\nimport Airtable from 'airtable';\nimport Record from 'airtable/lib/record';\nimport { HoggCellNT } from '../interfaces/HoggCellNT';\nimport { BaseTuple } from '../base-implements/BaseTuple';\nimport { BaseCell } from '../base-implements/BaseCell';\nimport { HoggOffsetCount } from './HoggOffsetCount';\nimport { HoggResult } from '../utils/HoggResult';\n\n\nexport class HoggConnectionAirtable implements HoggConnectionNT {\n\n  private dbName: string = '';\n  private columnNames: string[] = [];\n  private tableName: string = '';\n  // [vusc]\n  private pFilterVusc: string = '';\n\n  db(dbName: string): HoggConnectionNT {\n    this.dbName = dbName;\n    return this;\n  }\n\n  table(tableName: string): HoggConnectionNT {\n    this.tableName = tableName;\n    return this;\n  }\n\n  columns(columnNames: string[]): HoggConnectionNT {\n    this.columnNames = columnNames;\n    return this;\n  }\n\n  filterVusc(filter: string): HoggConnectionNT {\n    this.pFilterVusc = filter;\n    return this;\n  }\n\n  private static convertRecord(record: Record): HoggTupleNT {\n    const {fields} = record;\n    const cees: HoggCellNT[] = [];\n    for (const [key, value] of Object.entries(fields)) {\n      const cee: HoggCellNT = new BaseCell().create(key, value as string);\n      cees.push(cee);\n    }\n    const tidCee = new BaseCell().create('tid', record.id);\n    cees.push(tidCee);\n    return new BaseTuple().create(cees);\n  }\n\n  // TODO учесть columnNames\n  async query(offsetCount: HoggOffsetCount): Promise<HoggTupleNT[]> {\n    return new Promise((resolve, reject) => {\n      const ret: HoggTupleNT[] = [];\n      const selectCfg = {}\n      if (!offsetCount.getAll) {\n        const maxRecords = offsetCount.offset + offsetCount.count;\n        if (maxRecords > 0) {\n          // @ts-ignore\n          selectCfg.maxRecords = maxRecords;\n          // @ts-ignore\n          selectCfg.pageSize = maxRecords > 100 ? 100 : maxRecords;\n        }\n      }\n      if (this.columnNames && this.columnNames.length > 0) {\n        // @ts-ignore\n        selectCfg.fields = this.columnNames;\n      }\n      if (this.pFilterVusc) {\n        // @ts-ignore\n        selectCfg.filterByFormula = this.pFilterVusc;\n      }\n      let counter = 0;\n      Airtable\n        .base(this.dbName)\n        .table(this.tableName)\n        .select(selectCfg)\n        .eachPage(\n          function page(records, fetchNextPage) {\n            records.forEach(function (record) {\n              counter++;\n              if (counter > offsetCount.offset) {\n                const tup = HoggConnectionAirtable.convertRecord(record);\n                ret.push(tup)\n              }\n            });\n            fetchNextPage();\n          },\n          function done(err) {\n            if (err) {\n              console.error(err);\n              reject(err)\n            }\n            resolve(ret)\n          }\n        )\n    });\n  }\n\n  init(options: { apiKey: string }): void {\n    const {apiKey} = options;\n    if (apiKey) {\n      const dc = Airtable.default_config()\n      dc.apiKey = apiKey\n      dc.endpointUrl = 'https://api.airtable.com'\n      Airtable.configure(dc)\n    } else {\n      throw new Error(`[hogg]: [[210223092909]] invalid apiKey [${apiKey}]`)\n    }\n  }\n\n  async update(tuples: HoggTupleNT[]): Promise<HoggResult<boolean>> {\n    if (!(tuples && tuples.length > 0)) {\n      return new HoggResult<boolean>(false, '[[210223170254]]', 'tuples is empty')\n    } else {\n      // ---\n      const {updConfs, isOk} = updConfsGet(tuples);\n      // ---\n      if (!isOk) {\n        return new HoggResult(false, '[[210223191902]]', 'tid problem')\n      }\n      try {\n        await Airtable\n          .base(this.dbName)\n          .table(this.tableName)\n          .update(updConfs, function (err: any) {\n            if (err) {\n              return new HoggResult(false, '[[210223202024]]', err.message)\n            }\n          })\n        return new HoggResult<boolean>(true)\n      } catch (e) {\n        return new HoggResult<boolean>(false, '[[210223193709]]', e.message)\n      }\n    }\n  }\n\n  async create(tuples: HoggTupleNT[]): Promise<HoggResult<boolean>> {\n    if (!(tuples && tuples.length > 0)) {\n      return new HoggResult<boolean>(false, '[[210223170254-2]]', 'tuples is empty')\n    } else {\n      // ---\n      const createData = updConfsAtCreateGet(tuples);\n      // ---\n      try {\n        await Airtable\n          .base(this.dbName)\n          .table(this.tableName)\n          .create(createData, function (err: any) {\n            if (err) {\n              return new HoggResult(false, '[[210223202024-2]]', err.message)\n            }\n          })\n        return new HoggResult<boolean>(true)\n      } catch (e) {\n        return new HoggResult<boolean>(false, '[[210223193709-2]]', e.message)\n      }\n    }\n  }\n\n  async delete(ids: string[]): Promise<HoggResult<boolean>> {\n    await Airtable\n      .base(this.dbName)\n      .table(this.tableName)\n      .destroy(ids, function (err: any) {\n        if (err) {\n          return new HoggResult(false, '[[210223202024-3]]', err.message)\n        }\n      })\n    return new HoggResult(true)\n  }\n\n}\n\nfunction updConfsGet(tuples: HoggTupleNT[]) {\n  const updConfs: any[] = [];\n  const isOk = tuples.every(tuple => { // LOOP\n    const cells: HoggCellNT[] = tuple.cellsGet();\n    const updConf: any = {id: '', fields: {}}\n    cells.forEach(cell => { // LOOP-2\n      const fieldName = cell.columnNameGet()\n      if (fieldName === 'tid') {\n        updConf.id = cell.valueGet();\n      } else {\n        updConf.fields[fieldName] = cell.valueGet()\n      }\n    }) // LOOP-2\n    if (!updConf.id) {\n      return false; // stop loop\n    }\n    updConfs.push(updConf);\n    return true;\n  }) // LOOP\n  return {updConfs, isOk};\n}\n\nfunction updConfsAtCreateGet(tuples: HoggTupleNT[]) {\n  const updConfs: any[] = [];\n  tuples.forEach(tuple => { // LOOP\n    const cells: HoggCellNT[] = tuple.cellsGet();\n    const updConf: any = {fields: {}}\n    cells.forEach(cell => { // LOOP-2\n      const fieldName = cell.columnNameGet()\n      updConf.fields[fieldName] = cell.valueGet()\n    }) // LOOP-2\n    updConfs.push(updConf);\n    return true;\n  }) // LOOP\n  return updConfs;\n}\n","import { Component } from 'react';\nimport './styles.css';\nimport { LSApiKey } from '../../utils/utils';\nimport { CONF_AIRTABLE_DB_NAME, CONF_AIRTABLE_TABLE_NAME } from '../../consts';\nimport { HoggTupleNT } from '../../api/hogg/interfaces/HoggTupleNT';\nimport { HoggOffsetCount } from '../../api/hogg/connections/HoggOffsetCount';\nimport { HoggConnectionAirtable } from '../../api/hogg/connections/HoggConnectionAirtable';\nimport { HoggResult } from '../../api/hogg/utils/HoggResult';\nimport { BaseCell } from '../../api/hogg/base-implements/BaseCell';\nimport { BaseTuple } from '../../api/hogg/base-implements/BaseTuple';\n\nexport class PageDebug extends Component<any, any> {\n  private connection?: HoggConnectionAirtable;\n\n  async query() {\n    const connection = new HoggConnectionAirtable();\n    connection.init({apiKey: LSApiKey.apiKeyGet() || ''})\n    const res: HoggTupleNT[] | undefined = await this.connection\n      ?.columns(['id'])\n      .query(new HoggOffsetCount(false, 0, 10));\n  }\n\n  async update() {\n    const tuple = new BaseTuple()\n      .cellAdd(new BaseCell().create('tid', 'rec04BflzOVX54PWs'))\n      .cellAdd(new BaseCell().create('comm', '1-1-3'))\n    // ---\n    const res: HoggResult<boolean> | undefined = await this.connection?.update([tuple])\n  }\n\n  async create() {\n    const tuples = [\n      new BaseTuple().cellAdd(new BaseCell().create('title', 'mmm')).cellAdd(new BaseCell().create('comm', '1-1-4')),\n      new BaseTuple().cellAdd(new BaseCell().create('title', 'mmm-2')).cellAdd(new BaseCell().create('comm', '1-1-5'))\n    ]\n    // ---\n    const res: HoggResult<boolean> | undefined = await this.connection?.create(tuples)\n  }\n\n  async delete() {\n    const res = await this.connection?.delete(['recgsvfjiB1rDtNP5', 'recNGoZaZe7pPfzOH'])\n  }\n\n  componentDidMount() {\n    this.connection = new HoggConnectionAirtable();\n    this.connection.init({apiKey: LSApiKey.apiKeyGet() || ''});\n    this.connection\n      .db(CONF_AIRTABLE_DB_NAME)\n      .table(CONF_AIRTABLE_TABLE_NAME);\n  }\n\n  nx() {\n    return (\n      <div>\n        <button onClick={() => this.query()}>Query</button>\n        <button onClick={() => this.update()}>Update</button>\n        <button onClick={() => this.create()}>Create</button>\n        <button onClick={() => this.delete()}>Delete</button>\n      </div>\n    )\n  }\n\n  render() {\n    return <div className=\"page_debug\">{\n      this.nx()\n    }</div>\n  }\n}\n","import { Component } from 'react';\nimport './card.css';\nimport { TpCard } from '../../utils/utils';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport isBetween from 'dayjs/plugin/isBetween';\n\nexport interface CardProps {\n  card: TpCard,\n  handleLinkClick: (card: TpCard) => void\n}\n\nfunction DateFieldShow(name: string, dateSt?: string) {\n  return (<div>\n    {name}: {dateSt ?\n    (`${dateSt} (прошло дней: ${dayjs().diff(dateSt, 'day')})`)\n    : '-'}\n  </div>)\n}\n\nexport class Card extends Component<CardProps, any> {\n\n  constructor(props: CardProps) {\n    super(props);\n    this.handleLinkPress = this.handleLinkPress.bind(this);\n    dayjs.extend(relativeTime)\n    dayjs.extend(isBetween)\n  }\n\n  // @ts-ignore\n  async handleLinkPress(e) {\n    const {card, handleLinkClick} = this.props;\n    handleLinkClick(card);\n  }\n\n  render() {\n    const {card} = this.props;\n    if (!card) {\n      return <div>card is null</div>\n    }\n    // ---\n    return (<div className=\"card\">\n      <div className=\"card__title\">{card.title}</div>\n      <div className=\"card__link\">\n        <a\n          href={card.url}\n          onClick={this.handleLinkPress}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          {card.url}\n        </a>\n      </div>\n      <div>{card.comm}</div>\n      <div>{card.body}</div>\n      <div className=\"card__infos\">\n        <div>Число переходов: {card.trans_count}</div>\n        {DateFieldShow('Дата последнего перехода: ', card.trans_date_last)}\n        {DateFieldShow('Дата последнего показа: ', card.show_date_last)}\n      </div>\n    </div>);\n  }\n\n}\n","import cards from './cards.json';\nimport { TpCard } from '../utils/utils';\nimport Record from 'airtable/lib/record';\nimport { MAirtable } from './airtable-api';\nimport dayjs from 'dayjs';\n\nexport class Cards {\n  static allGet(): TpCard[] {\n    // @ts-ignore\n    return cards.cards.map(el => {\n      return el\n    })\n  }\n\n  static countAllGet(): number {\n    return cards.cards.length\n  }\n\n  static getByIndex(index: number): TpCard {\n    // @ts-ignore\n    return cards.cards[index]\n  }\n}\n\nexport class CardsB {\n  private FIELD_ID = 'id';\n  private FIELD_TID = 'tid';\n  private FIELD_TITLE = 'title';\n  private FIELD_URL = 'url';\n  private FIELD_COMM = 'comm';\n  private FIELD_BODY = 'body';\n  public static FIELD_TRANS_COUNT = 'trans_count';\n  // type - Date\n  public static FIELD_TRANS_DATE_LAST = 'trans_date_last';\n  public static FIELD_SHOW_DATE_LAST = 'show_date_last';\n\n  constructor(readonly records: Record[]) {\n  }\n\n  countAllGet(): number {\n    return this.records.length\n  }\n\n  // [[210222111416]]\n  getByIndex(index: number): TpCard {\n    const record = this.records[index]\n    return new TpCard(\n      record.get(this.FIELD_TITLE),\n      record.get(this.FIELD_URL),\n      record.get(this.FIELD_COMM),\n      record.get(this.FIELD_BODY),\n      record.get(this.FIELD_ID),\n      record.id,\n      record.get(CardsB.FIELD_TRANS_COUNT),\n      record.get(CardsB.FIELD_TRANS_DATE_LAST),\n      record.get(CardsB.FIELD_SHOW_DATE_LAST),\n    )\n  }\n\n  static async update(tid: string, card: TpCard) {\n    const fields = {\n      [CardsB.FIELD_TRANS_COUNT]: card.trans_count + 1,\n      [CardsB.FIELD_TRANS_DATE_LAST]: card.trans_date_last,\n      [CardsB.FIELD_SHOW_DATE_LAST]: card.show_date_last,\n    }\n    await MAirtable.recordUpdate(tid, fields)\n  }\n\n}\n","import { Component } from 'react';\nimport { Card } from '../Card';\nimport './styles.css'\nimport { TpCard } from '../../utils/utils';\nimport { CardsB } from '../../api/cards-api';\nimport dayjs from 'dayjs';\n\n\nexport class RandomCardViewer extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    this.cardHandleLinkClick.bind(this);\n  }\n\n  async cardHandleLinkClick(card: TpCard) {\n    const card0 = {\n      ...card,\n      [CardsB.FIELD_TRANS_DATE_LAST]: dayjs(Date.now()).format('YYYY-MM-DD')\n    }\n    await CardsB.update(card.tid || '', card0);\n  }\n\n  render() {\n    return (<div className=\"rc-viewer\">\n      <div>Показано: {this.props.countShowed} / {this.props.countAll}</div>\n      <button className=\"rc-viewer__button\" onClick={this.props.handleShow}>Show</button>\n      {\n        this.props.card ?\n          <div className=\"rc-viewer__card\">\n            <Card\n              card={this.props.card}\n              handleLinkClick={this.cardHandleLinkClick}\n            />\n          </div>\n          : null\n      }\n    </div>);\n  }\n}\n","import React, { Component } from 'react';\nimport './styles.css';\nimport { RandomCardViewer } from '../RandomCardViewer';\nimport { CardsB } from '../../api/cards-api';\nimport { LSApiKey, randomExcept, TpCard } from '../../utils/utils';\nimport dayjs from 'dayjs';\nimport { MAirtable } from '../../api/airtable-api';\n\nexport class PageNews extends Component<any, any> {\n\n  private cardsB?: CardsB;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      card: null,\n      countShowed: 0,\n      countAll: 0,\n      showedIxs: [],\n      isLoading: true,\n      isApiKeySetted: false,\n      errorStr: ''\n    }\n  }\n\n  async handleShow() {\n    const rnd = randomExcept(this.state.countAll - 1, this.state.showedIxs);\n    if (rnd !== -1) {\n      const arr1 = [...this.state.showedIxs, rnd];\n      if (this.cardsB) {\n        const card: TpCard = this.cardsB.getByIndex(rnd);\n        this.setState({\n          card,\n          countShowed: this.state.countShowed + 1,\n          showedIxs: arr1\n        })\n        // ---\n        const card0 = {...card, [CardsB.FIELD_SHOW_DATE_LAST]: dayjs().format('YYYY-MM-DD')};\n        await CardsB.update(card.tid || '', card0);\n      }\n    }\n  }\n\n  async componentDidMount() {\n    const apiKey = LSApiKey.apiKeyGet()\n    if (apiKey) {\n      try {\n        this.setState({isApiKeySetted: true});\n        // ---\n        // [[210222113321]]\n        const records = await MAirtable.recordsGet();\n        this.cardsB = new CardsB(records);\n        this.setState({\n          isLoading: false,\n          countAll: this.cardsB.countAllGet()\n        });\n      } catch (err) {\n        if (err.statusCode === 401 && err.message.includes('provide valid api key')) {\n          this.setState({errorStr: 'invalid Airtable API Key'})\n        } else {\n          throw new Error(err);\n        }\n      }\n    }\n  }\n\n  render() {\n    const {isApiKeySetted, isLoading, errorStr} = this.state;\n    // ---\n    return (\n      <div>{\n        errorStr ? <div className=\"app__error_string\">{errorStr}</div>\n          : isLoading ?\n          (<div>\n            {\n              isApiKeySetted ?\n                <div>Loading...</div> :\n                <div>please provide \"Airtable API Key\" at \"Settings\"</div>\n            }\n          </div>)\n          : <RandomCardViewer countAll={this.state.countAll} countShowed={this.state.countShowed}\n                              card={this.state.card}\n                              handleShow={() => this.handleShow()}/>\n      }\n      </div>\n    )\n\n  }\n}\n","export const UARW_CONF_AIRTABLE_DB_NAME = 'appL0eof6VFTiPyjm';\nexport const UARW_CONF_AIRTABLE_TABLE_NAME = 'main';\n\n// --- airtable fields\nexport const UARW_FE_SCOPES = 'scopes';\nexport const UARW_FE_QUESTION = 'question';\nexport const UARW_FE_ANSWER = 'answer';\nexport const UARW_FE_PROGRESS = 'progress';\nexport const UARW_FE_TID = 'tid';\nexport const UARW_FE_ID = 'id';\n\n// --- field \"progress\" values\nexport const UARW_PV_PROGRESS_1 = '1';\nexport const UARW_PV_PROGRESS_2 = '2';\nexport const UARW_PV_PROGRESS_3 = '3';\nexport const UARW_PV_PROGRESS_4 = '4';\nexport const UARW_PV_PROGRESS_5 = '5';\n","import { UARW_FE_PROGRESS, UARW_PV_PROGRESS_1 } from '../../consts-uarw';\n\nexport function colination(arr: string[], sortByCount?: SortInfo): ValCount[] {\n  const ret: ValCount[] = [];\n  if (arr && arr.length > 0) {\n    arr.forEach(val => {\n      const currElem = ret.find(retEl => retEl.value === val)\n      if (!currElem) {\n        ret.push(new ValCount(val, 1))\n      } else {\n        currElem.count++\n      }\n    })\n    // ---\n    if (sortByCount && sortByCount.needSort) {\n      ret.sort((a, b) => {\n        if (sortByCount.ascending) {\n          return a.count - b.count\n        }\n        return b.count - a.count\n      })\n    }\n  }\n  return ret;\n}\n\nexport class ValCount {\n  public count: number;\n\n  constructor(readonly value: string, count: number) {\n    this.count = count;\n  }\n\n  static asValLabels(valCounts: ValCount[]): ValLabel[] {\n    return valCounts.map(valCount => {\n      return new ValLabel(valCount.value, `${valCount.value} (${valCount.count})`)\n    })\n  }\n\n}\n\nexport class SortInfo {\n  constructor(readonly needSort: boolean = false, readonly ascending: boolean = true) {\n  }\n}\n\nexport class ValLabel {\n  constructor(readonly value: string, readonly label: string) {\n  }\n}\n\nexport function arrObjectsSortByStringProp(arrObjectsBack: object[], propName: string, ascending: boolean = true): void {\n  arrObjectsBack.sort((oj1, oj2) => {\n    // @ts-ignore\n    const v1 = oj1[propName];\n    // @ts-ignore\n    const v2 = oj2[propName];\n    if (v1 < v2) {\n      return ascending ? -1 : 1\n    }\n    if (v1 > v2) {\n      return ascending ? 1 : -1\n    }\n    return 0\n  })\n}\n\nexport function selectOptionToVusc(fieldName: string, option: { value: string } | { value: string }[] | null): string {\n  // --- values\n  const values = [];\n  let b51 = false;\n  if (option) {\n    if (Array.isArray(option)) {\n      option.forEach(el => {\n        values.push(el.value)\n        if (fieldName === UARW_FE_PROGRESS && el.value === UARW_PV_PROGRESS_1) {\n          b51 = true;\n        }\n      })\n    } else {\n      values.push(option.value)\n      if (fieldName === UARW_FE_PROGRESS && option.value === UARW_PV_PROGRESS_1) {\n        b51 = true;\n      }\n    }\n  }\n  // ---\n  const arr = values.map(val => `{${fieldName}} = '${val}'`)\n  if (b51) {\n    arr.push(`{${fieldName}} = ''`)\n  }\n  const stJoin = arr.join(', ')\n  return arr.length > 0 ? `OR(${stJoin})` : ''\n}\n","import { Component } from 'react';\nimport './styles.scss';\nimport { QCardOj } from '../../../utils/uarw/uarw-logic';\n\nclass QCardProps {\n  public qcard?: QCardOj\n}\n\nclass QCardState {\n  public answerShowed: boolean = false\n}\n\nexport class QCard extends Component<QCardProps, QCardState> {\n  constructor(props: QCardProps) {\n    super(props);\n    this.state = {\n      answerShowed: false\n    }\n  }\n\n  handleClick() {\n    this.setState({answerShowed: true})\n  }\n\n  render() {\n    const {qcard} = this.props;\n    const {answerShowed} = this.state;\n    return (\n      <div className=\"qcard\">\n        <div className=\"qcard__scope\">{qcard?.scope}</div>\n        <div className=\"qcard__question\">{qcard?.question}</div>\n        <input className=\"qcard__button\" type=\"button\" value=\"show answer\" onClick={() => this.handleClick()}/>\n        {!answerShowed || <div className=\"qcard__answer\">{qcard?.answer}</div>}\n        <div className=\"qcard__progress\">{qcard?.progress}</div>\n      </div>\n    )\n  }\n}\n","import { HoggTupleNT } from '../../api/hogg/interfaces/HoggTupleNT';\nimport {\n  UARW_CONF_AIRTABLE_DB_NAME, UARW_CONF_AIRTABLE_TABLE_NAME,\n  UARW_FE_ANSWER,\n  UARW_FE_ID,\n  UARW_FE_PROGRESS,\n  UARW_FE_QUESTION,\n  UARW_FE_SCOPES,\n  UARW_FE_TID, UARW_PV_PROGRESS_1\n} from '../../consts-uarw';\nimport { arrObjectsSortByStringProp, colination, SortInfo, ValCount } from './uarw-utils';\nimport { HoggConnectionAirtable } from '../../api/hogg/connections/HoggConnectionAirtable';\nimport { LSApiKey } from '../utils';\nimport { HoggOffsetCount } from '../../api/hogg/connections/HoggOffsetCount';\nimport { HoggConnectionNT } from '../../api/hogg/interfaces/HoggConnectionNT';\n\nexport class UarwLogic {\n\n  private static connectionTableCreate(): HoggConnectionNT {\n    const connection = new HoggConnectionAirtable();\n    const apiKey = LSApiKey.apiKeyGet() || '';\n    connection.init({apiKey});\n    return connection\n      .db(UARW_CONF_AIRTABLE_DB_NAME)\n      .table(UARW_CONF_AIRTABLE_TABLE_NAME)\n  }\n\n  async qcardsGet(filterVusc: string): Promise<QCardOj[]> {\n    const data: HoggTupleNT[] = await UarwLogic.connectionTableCreate()\n      .filterVusc(filterVusc)\n      .query(new HoggOffsetCount(true))\n    const uarwTuples = new UarwTuples(data)\n    return uarwTuples.qcards\n  }\n\n  async scopesAndProgressesGet(filterVusc: string = ''): Promise<{ scopes: ValCount[], progresses: ValCount[], countAll: number }> {\n    console.log(`!!-!!-!! 2309-10 -> :::::::::::::: scopesAndProgressesGet() {210227230942}:${Date.now()}`); // del+\n    const tuples = await UarwLogic.connectionTableCreate()\n      .columns([UARW_FE_SCOPES, UARW_FE_PROGRESS])\n      .filterVusc(filterVusc)\n      .query(new HoggOffsetCount(true))\n    console.log('!!-!!-!! 2309-20 tuples {210227230859}\\n', tuples); // del+\n    // ---\n    const scopes: string[] = []\n    const progresses: string[] = []\n    tuples.forEach(tuple => {\n      let b19 = false;\n      tuple.cellsGet().forEach(cell => {\n        const columnName = cell.columnNameGet();\n        const value = cell.valueGet();\n        if (columnName === UARW_FE_SCOPES) {\n          scopes.push(value)\n        }\n        if (columnName === UARW_FE_PROGRESS) {\n          progresses.push(value)\n          b19 = true\n        }\n      })\n      if (!b19) {\n        progresses.push(UARW_PV_PROGRESS_1)\n      }\n    })\n    // ---\n    const scopesVC = colination(scopes, new SortInfo(false))\n    arrObjectsSortByStringProp(scopesVC, 'value', true)\n    const progressesVC = colination(progresses, new SortInfo(false))\n    arrObjectsSortByStringProp(progressesVC, 'value', true)\n    // ---\n    return {scopes: scopesVC, progresses: progressesVC, countAll: tuples.length}\n  }\n}\n\nexport class UarwTuples {\n  public qcards: QCardOj[];\n\n  constructor(readonly tuples: HoggTupleNT[]) {\n    this.qcards = QCardOj.createMulti(this.tuples)\n  }\n\n  scopesGet(): ValCount[] {\n    const scopes: string[] = [];\n    this.tuples.forEach(tuple => {\n      tuple.cellsGet().forEach(cell => {\n        const columnName = cell.columnNameGet()\n        const value = cell.valueGet()\n        if (columnName === UARW_FE_SCOPES) {\n          scopes.push(value)\n        }\n      })\n    })\n    // ---\n    return colination(scopes, new SortInfo(true, false))\n  }\n\n  progressesGet(): ValCount[] {\n    const pgs: string[] = [];\n    this.tuples.forEach(tuple => {\n      tuple.cellsGet().forEach(cell => {\n        const columnName = cell.columnNameGet()\n        const value = cell.valueGet()\n        if (columnName === UARW_FE_PROGRESS) {\n          pgs.push(value)\n        }\n      })\n    })\n    // ---\n    const valCounts = colination(pgs);\n    arrObjectsSortByStringProp(valCounts, 'value', true);\n    return valCounts\n  }\n\n}\n\nexport class QCardOj {\n  public question: string = ''\n  public answer: string = ''\n  public progress: string = ''\n  public scope: string = ''\n  public id: string = ''\n  public tid: string = ''\n\n  static create(tuple: HoggTupleNT): QCardOj {\n    const cells = tuple.cellsGet()\n    const qcard = new QCardOj();\n    cells.forEach(cell => {\n      const columnName = cell.columnNameGet()\n      const value = cell.valueGet()\n      switch (columnName) {\n        case UARW_FE_QUESTION:\n          qcard.question = value;\n          break;\n        case UARW_FE_ANSWER:\n          qcard.answer = value;\n          break;\n        case UARW_FE_PROGRESS:\n          qcard.progress = value;\n          break;\n        case UARW_FE_SCOPES:\n          qcard.scope = value;\n          break;\n        case UARW_FE_TID:\n          qcard.tid = value;\n          break;\n        case UARW_FE_ID:\n          qcard.id = value;\n          break;\n      }\n    })\n    return qcard\n  }\n\n  static createMulti(tuples: HoggTupleNT[]): QCardOj[] {\n    return tuples.map(tuple => QCardOj.create(tuple))\n  }\n}\n","import { Component } from 'react';\nimport Loader from 'react-loader';\nimport { selectOptionToVusc, ValCount, ValLabel } from '../../utils/uarw/uarw-utils';\nimport Select from 'react-select';\nimport './styles.scss'\nimport { QCard } from './QCard';\nimport { QCardOj, UarwLogic, UarwTuples } from '../../utils/uarw/uarw-logic';\nimport { UARW_FE_PROGRESS, UARW_FE_SCOPES } from '../../consts-uarw';\n\ninterface UarwState {\n  uarwTuples: UarwTuples | null,\n  loaded: boolean,\n  errStr: string,\n  selectScOptions: object[],\n  selectScSelectedOption: object | object[] | null,\n  selectPrOptions: object[],\n  selectPrSelectedOption: object | object[] | null,\n  qcards: QCardOj[],\n  countAll: number\n}\n\n\nfunction fnOptionsRefresh(currSelectOption: object | object[] | null, newVL: ValLabel[]): object | object[] | null {\n  if (currSelectOption && newVL && newVL.length > 0) {\n    if (Array.isArray(currSelectOption)) {\n      return currSelectOption.map(el => {\n        // @ts-ignore\n        const np = newVL.find(nx => nx.value === el.value)\n        return np ? np : el\n      })\n    } else {\n      // @ts-ignore\n      const np = newVL.find(nx => nx.value === currSelectOption.value)\n      return np ? np : currSelectOption\n    }\n  }\n  return currSelectOption\n}\n\nexport class PageUarw extends Component<any, UarwState> {\n  private uarwLogic?: UarwLogic;\n  private flag1: boolean = false;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      loaded: false,\n      uarwTuples: null,\n      errStr: '',\n      selectScOptions: [],\n      selectScSelectedOption: null,\n      selectPrOptions: [],\n      selectPrSelectedOption: null,\n      qcards: [],\n      countAll: 0\n    }\n    this.selectScHandleChange = this.selectScHandleChange.bind(this);\n    this.selectPrHandleChange = this.selectPrHandleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  async componentDidMount() {\n    this.uarwLogic = new UarwLogic()\n    await this.selectorsDataGetAndUpdate();\n  }\n\n  private async selectorsDataGetAndUpdate() {\n    if (this.uarwLogic) {\n      this.setState({loaded: false})\n      const filterVusc = this.fnFilterVuscGet();\n      console.log('!!-!!-!! filterVusc {210227224723}\\n', filterVusc); // del+\n      const {scopes, progresses, countAll} = await this.uarwLogic.scopesAndProgressesGet(filterVusc);\n      this.setState({loaded: true, countAll});\n      // ---\n      const scopesVL: ValLabel[] = ValCount.asValLabels(scopes)\n      const progressesVL: ValLabel[] = ValCount.asValLabels(progresses)\n      // ---\n      const newSelectScSelectedOption = fnOptionsRefresh(this.state.selectScSelectedOption, scopesVL)\n      const newSelectPrSelectedOption = fnOptionsRefresh(this.state.selectPrSelectedOption, progressesVL)\n      const newState = {\n        selectScOptions: scopesVL,\n        selectScSelectedOption: newSelectScSelectedOption,\n        selectPrOptions: progressesVL,\n        selectPrSelectedOption: newSelectPrSelectedOption\n      };\n      this.setState(newState)\n    }\n  }\n\n  async selectScHandleChange(selectedOption: any) {\n    console.log(`!!-!!-!! -> :::::::::::::: selectScHandleChange() {210227231432}:${Date.now()}`); // del+\n    this.flag1 = true;\n    this.setState({selectScSelectedOption: selectedOption})\n  }\n\n  async selectPrHandleChange(selectedOption: any) {\n    console.log(`!!-!!-!! -> :::::::::::::: selectPrHandleChange() {210227231432}:${Date.now()}`); // del+\n    this.flag1 = true;\n    this.setState({selectPrSelectedOption: selectedOption})\n  }\n\n  async componentDidUpdate(prevProps: Readonly<any>, prevState: Readonly<UarwState>, snapshot?: any) {\n    console.log(`!!-!!-!! -> :::::::::::::: componentDidUpdate() {210227231432}:${Date.now()}`); // del+\n    if (this.flag1) {\n      this.flag1 = false;\n      await this.selectHandleChange();\n    }\n  }\n\n  async selectHandleChange() {\n    console.log(`!!-!!-!! -> :::::::::::::: selectHandleChange() {210227231432_1}:${Date.now()}`); // del+\n    await this.selectorsDataGetAndUpdate()\n  }\n\n  async handleClick() {\n    try {\n      this.setState({loaded: false});\n      // ---\n      let filterVusc = this.fnFilterVuscGet();\n      // ---\n      const qcardOjs = await this.uarwLogic?.qcardsGet(filterVusc);\n      // ---\n      this.setState({\n        qcards: qcardOjs || [],\n        loaded: true,\n      })\n    } catch (err) {\n      this.setState({loaded: true, errStr: err.message})\n    }\n  }\n\n  private fnFilterVuscGet() {\n    let filterScVusc = selectOptionToVusc(UARW_FE_SCOPES, this.state.selectScSelectedOption as { value: string });\n    let filterPrVusc = selectOptionToVusc(UARW_FE_PROGRESS, this.state.selectPrSelectedOption as { value: string });\n    if (filterScVusc && filterPrVusc) {\n      return `AND(${filterScVusc}, ${filterPrVusc})`\n    } else if (filterScVusc) {\n      return filterScVusc\n    } else {\n      return filterPrVusc\n    }\n  }\n\n  render() {\n    const {\n      selectScOptions,\n      selectScSelectedOption,\n      selectPrOptions,\n      selectPrSelectedOption,\n      qcards,\n      countAll\n    } = this.state;\n    return <Loader loaded={this.state.loaded}>\n      {this.state.errStr\n        ? <div>{this.state.errStr}</div>\n        :\n        <div className=\"uarw-container\">\n          <div className=\"cards-count\">Карточек: {countAll}</div>\n          <div className=\"selects-container\">\n            <Select\n              className=\"select-scopes\"\n              value={selectScSelectedOption}\n              options={selectScOptions}\n              onChange={this.selectScHandleChange}\n              isMulti\n            />\n            <Select\n              className=\"select-progresses\"\n              value={selectPrSelectedOption}\n              options={selectPrOptions}\n              onChange={this.selectPrHandleChange}\n              isMulti\n            />\n          </div>\n          <div className=\"get-button\">\n            <input type=\"button\" onClick={this.handleClick} value=\"get\"/>\n          </div>\n          <div className=\"qcards\">\n            {\n              qcards.map(qcard => {\n                return <QCard qcard={qcard}/>\n              })\n            }\n          </div>\n        </div>\n      }\n    </Loader>\n  }\n}\n","import React from 'react';\nimport './App.css';\nimport { utilPathGet } from './utils/utils';\nimport { NavLink, Route, Router, Switch } from 'react-router-dom';\nimport { createBrowserHistory } from \"history\";\nimport { MAirtable } from './api/airtable-api';\nimport { Settings } from './components/Settings';\nimport { PageDebug } from './components/PageDebug';\nimport { PageNews } from './components/PageNews';\nimport { PageUarw } from './components/PageUarw';\n\nconst customHistory = createBrowserHistory();\n\nMAirtable.init();\n\nclass App extends React.Component<any, any> {\n\n  render() {\n\n    return (\n      <Router history={customHistory}>\n        <div className=\"App\">\n          <div className=\"appRoutes\">\n            <NavLink to=\"/mgxr\" activeClassName=\"active-link\">Главная</NavLink>\n            <NavLink to=\"/uarw\" activeClassName=\"active-link\">\"Карточки\"</NavLink>\n            <NavLink to=\"/news\" activeClassName=\"active-link\">\"Новости\"</NavLink>\n            <NavLink to=\"/settings\" activeClassName=\"active-link\">Настройки</NavLink>\n            <NavLink to=\"/debug\" activeClassName=\"active-link\">Debug</NavLink>\n          </div>\n          {/* // --- */}\n          <Switch>\n            <Route path={utilPathGet()} exact>\n              <div>Главная</div>\n            </Route>\n            <Route path={utilPathGet('settings')} exact>\n              <Settings/>\n            </Route>\n            <Route path={utilPathGet('debug')} exact>\n              <PageDebug/>\n            </Route>\n            <Route path={utilPathGet('news')} exact>\n              <PageNews/>\n            </Route>\n            <Route path={utilPathGet('uarw')} exact>\n              <PageUarw/>\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}